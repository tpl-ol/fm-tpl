# tpl-spec 0.1.0

替语言规范 (版本 `0.1.0`)

使用 [语义化版本 (SEMVER 2.0.0)](https://semver.org/lang/zh-CN/)


## 目录

```
0 概述
  0.1 预留扩展位置 (PEL)
1 替语言核心功能
  1.1 正向编译
  1.2 反向编译
  1.3 迁移编译
  1.4 错误检查
  1.5 标识符冲突
2 替语言描述文件 (tpld)
  2.1 文件存储 (toml)
  2.2 整体格式
  2.3 拒绝翻译
  2.4 根配置
  2.5 依赖
  2.6 替语言自身配置 (tpl)
  2.7 关键字替换 (keyword)
  2.8 标识符替换
    2.8.1 类型 (type)
    2.8.2 范围 (scope)
    2.8.3 标识符匹配
  2.9 自定义扩展
3 替语言配置文件
  3.1 文件存储 (toml)
  3.2 整体格式
  3.3 根配置
  3.4 匹配规则
4 替语言支持工具
  4.1 代码语法解析 (tpl-ast-LANG)
    4.1.1 文件重命名
    4.1.2 辅助功能
  4.2 开发工具集成 (tpl-ide-LANG-TOOL)
    4.2.1 Language Server Protocol (tpl-ide-LANG-lsp)
    4.2.2 代码格式化 (tpl-ide-LANG-fmt)
    4.2.3 代码查错工具 (tpl-ide-LANG-lint)
    4.2.4 编辑器插件
  4.3 辅助运行时 (tpl-rt-LANG)
  4.4 命令行工具 (tpl-cli)
  4.5 辅助翻译
5 补充说明
  5.1 替语言自举
  5.2 翻译版本
附录1 术语表
```


## 0 概述

胖蚊子翻译编程语言 (Fat Mosquito Translate Programming Language) 简称 **替语言** (TPL).

替语言主要提供翻译原语言的能力.
替语言不改变原语言的语法, 只是将其中的标识符 (关键字, 数据类型, 函数名称等)
替换为另一种目标语言.
设计上替语言能够支持多种原语言及目标语言, 所以替语言的核心功能与具体的原语言/目标语言无关.

替语言规范 (tpl-spec) (本文档)
定义替语言的核心功能, 替语言描述文件 (tpld), 替语言配置文件 (tpl_config.toml) 的格式等.
相关的替语言工具及替语言描述文件都应该符合本文档的要求.

本文档的主要目的是维持整个替语言生态的兼容性和互操作能力.

### 0.1 预留扩展位置 (PEL)

由于替语言的核心功能和具体的原语言 (具体的某种编程语言) 无关,
本文档会故意为具体的替语言支持工具实现 (tpl-ast-LANG) 预留一些扩展位置,
用来填充具体原语言相关的内容.

预留扩展位置填充的具体内容, 在各个替语言工具 (tpl-ast-LANG) 的文档中另行定义.

| PEL | 位置 | 描述 |
| :-- | :--- | :--- |
| tpld 依赖 | tpld dep | 指定默认依赖处理方式, 自定义依赖 |
| tpld 类型 | tpld type | 指定字符串格式及含义 |
| tpld 范围 | tpld scope | 指定字符串格式及含义 |
| tpld 匹配 | tpld d.d | 指定字符串格式及含义 |
| tpld 自定义扩展 | tpld _ | 以下划线开头的自定义键 |
| 配置自定义扩展 | tpl_config _ | 同上 |

本文档中有些内容是 **可选** 或 **建议** 的,
具体的替语言工具在实现时根据实际情况自行决定.

本文档中的 *栗子* (example) 仅用于说明形式,
不一定真实存在, 并不保证正确性.


## 1 替语言核心功能

替语言对于每一种原语言的支持, 都应该实现这些功能.

### 1.1 正向编译

将替语言代码编译为原语言代码.

比如使用替语言 TypeScript 中文版 (tpld-ts-zh) 的代码 `测试.ts.替`:

```
// 替 文件名 = test.ts
控制台.写("123");
```

这个代码不能直接执行, 需要使用替语言工具 (tpl-ast-ts) 编译为 TypeScript 代码 `test.ts`:

```ts
console.log("123");
```

然后就能被现有的 TypeScript 工具处理 (比如编译/执行).

替语言代码是用户实际编写的, 也就是实际上的源代码.
原语言代码是原语言现有的工具所使用的, 属于生成的代码.
替语言工具是编译器.

正向编译过程中, 根据替语言描述文件 (tpld) 定义的翻译规则,
替语言工具将替语言代码中的关键字, 数据类型, 函数名称等标识符进行替换,
生成原语言代码.

(可选) 根据某种原语言的具体情况,
替语言工具可能还会进行替换文件名, 模块名称等一些额外的转换.

根据某种原语言的具体情况, 以及实现难度,
替语言工具可能只能替换一部分标识符, 也可能能够替换全部标识符,
比如实现纯中文的编程体验.

(建议) 替语言工具能够替换全部标识符时, 用户体验更好.

### 1.2 反向编译

将原语言代码编译为替语言代码.
这个是正向编译的反向操作, 也是迁移编译所必须的.

替语言工具根据替语言描述文件 (tpld) 的翻译规则,
对原语言代码中的标识符进行替换, 生成替语言代码.

一般情况下, 使用相同的配置 (同一套替语言工具, 替语言描述文件, 替语言配置文件),
进行正向编译, 再反向编译, 应该得到和原始代码相同的结果.
也就是操作是可逆的.
因为一般情况下使用替语言工具进行编译并不会造成信息丢失.

特殊情况下会出现信息丢失, 但是应该不会造成严重后果 (比如代码不可执行或代码语义改变).

### 1.3 迁移编译

基于同一种原语言的不同替语言 (使用不同的具体翻译规则) 之间相互编译.

一般实现方式是, 对替语言代码使用第一套 tpld 文件执行正向编译,
然后对生成的原语言代码使用第二套 tpld 文件执行反向编译.

因为替语言给用户提供了简单灵活的定义翻译规则 (tpld 文件) 的能力,
所以基于同一种原语言会产生许多替语言变体 (方言).
另外, 在实际使用过程中也有经常修改现有翻译规则的需求.

迁移编译能够让这些代码相互转换, 保持互操作能力.

### 1.4 错误检查

对替语言描述文件以及配置中的错误和可能的问题 (警告) 进行检查.

比如用户编写 tpld 文件:

```toml
[[d]]
type = "keyword"
[d.d]
on = "在"
# 此处省略若干行 .. .
in = "在"
```

这会导致编译出错.

替语言工具应该对替语言描述文件 (tpld) 提供基本的错误检查功能.
但是由于实现的复杂度, 更进一步的错误检查能力是可选的.

(建议) 替语言工具实现更完善的错误检查, 用户体验更好.

### 1.5 标识符冲突 (建议)

标识符冲突的检测与自动处理.

比如 TypeScript 代码:

```ts
let 令 = 1;
```

但是在替语言 TypeScript 中文版中定义 `let = "令"`
这会导致编译后的原语言代码变成:

```ts
let let = 1;
```

从而导致错误.
如果替语言工具能够检测冲突并自动处理, 比如:

```ts
let 令_1 = 1;
```

即可避免错误.

标识符冲突自动处理的目标是, 用户可以任意编写 tpld 文件,
并执行正向编译/反向编译, 而无需担心标识符冲突 (编译后的代码可正常执行).


## 2 替语言描述文件

替语言描述文件 (tpld) 用于定义具体的翻译规则,
也就是标识符对应规则.

翻译规则主要由两部分组成: 范围 (scope), 映射.
映射定义某个具体的标识符被替换成什么字符串, 比如 `fn` 替换成 `术`.
范围定义哪些标识符适用于具体的映射, 比如范围为 `keyword` (关键字).

这个设计类似于 CSS 的 *选择器+样式* 形式.

一般情况下, 禁止使用模糊匹配 (正则, 通配符等),
应该使用精确匹配 (范围和标识符全相等).

此外, 替语言描述文件还有一些元数据, 比如所使用的替语言规范版本,
哪种原语言, 哪种目标语言, 依赖关系等.

此处描述的是 tpld 文件可能使用的全部功能,
某种具体的原语言或替语言工具可以根据实际情况选择使用其中的一部分.
也就是如果哪项功能用不到或者不适合, 就无需支持.

但是标明 **必须** 的部分强制要求支持, 别的都是 **可选** 的.

### 2.1 文件存储 (必须)

替语言描述文件使用 [TOML 1.0.0](https://toml.io/) 的格式进行存储.

替语言描述文件的文件名后缀为 `.tpld.toml`

### 2.2 整体格式 (必须)

tpld 文件的整体格式.

栗子:

```toml
# tpld-ts-zh.tpld.toml
tpl-spec = "0.1.0"

# TypeScript
from = "ts"
# 简体中文 (中国)
to = "zh_CN

dep = [
  "./es2021",
  "./wasm",
]

[[d]]
type = "tpl"
[d.d]
tpl = "替"
filename = "文件名"
file-ext = ".替"

[[d]]
type = "keyword"
[d.d]
else = "另"
function = "术"
if = "若"

# 全局
[[d]]
type = "lib"
scope = ""
[d.d]
console = "控制台"

[[d]]
type = "lib"
scope = ["console", "Console"]
[d.d]
"log()" = "写()"
```

tpld 文件以一段 *根配置* 起始, 一般定义一些元数据.
后跟若干 `[[d]]` 小节, 分别定义具体的内容.
其中 `[d.d]` 定义具体的映射表.

一般 `[[d]]` 小节使用不同的类型 (`type`) 和范围 (`scope`).

+ 根配置: 定义元数据
+ `[[d]]`: 定义小节
+ `[d.d]`: 定义小节的映射表

### 2.3 拒绝翻译

如果某些标识符翻译后不太合适, 比如 `HTML`,
可以做出 **拒绝翻译** 的决定, 对这些标识符原样保留.

一般需要在附近注释中写明 `拒绝翻译` 字样.

### 2.4 根配置

tpld 文件开头的一段内容, 一般指定一些元数据.

栗子:

```toml
# process.tpld.toml
tpl-spec = "0.1.0"
from = "ts"
to = "zh_CN"

type = "lib:node"
scope = "module:process"
scope_to = "进程"

dep = [
  "./events",
]
```

允许的配置项:

| 键 | 说明 | 备注 | 数据类型 |
| :- | :--- | :-- | :------ |
| tpl-spec | 使用的替语言规范版本号 | 必须 | 字符串 |
| from | 原语言 | 必须 | 字符串 |
| to | 目标语言 | 必须 | 字符串 |
| dep | 依赖关系 | | 字符串数组 |
| type | 指定整个文件使用的类型 | | 字符串 |
| scope | 指定整个文件使用的范围 | | 字符串 |
| scope_to | 对范围进行翻译 | | 字符串 |
| d | 定义 `[[d]]` 小节 | 必须 | 数组 |

### 2.5 依赖

tpld 文件的依赖关系, 由根配置中的 `dep` 项定义.

栗子:

```toml
dep = [
  "tpld-ts-zh",
  "./process",
]
```

依赖关系格式为一个字符串数组, 每一项代表当前 tpld 文件所需的一个依赖.
省略此定义表示没有依赖.

以 `./` 或 `../` 开头的为局部依赖, 指定当前 tpld 文件依赖另一个 tpld 文件,
字符串内容为相对当前文件的路径, 不包括 `.tpld.toml` 后缀.

普通依赖字符串表示以默认方式处理的依赖文件集合, 通常为替语言工具内置 (自带) 的部分.

(PEL) 依赖默认处理方式由具体的替语言工具定义.

(PEL) 含有冒号 `:` 字符的是具体替语言工具自定义的依赖字符串.

同一个 tpld 文件中重复定义的翻译规则 (范围和标识符全相等) 为 **警告** 或 **错误** 级别.
不同的 tpld 文件中的重复定义 (对依赖中已有内容的重复定义) 处理方式为 **叠加** 或 **覆盖**,
也可以为 **警告** 级别.

以 `a:` 开头的为 **叠加** 方式, 以 `r:` 开头的为 **覆盖** 方式, 比如:

```toml
dep = [
  "r:tpld-ts-zh",
  "a:tpld-ts-node-zh",
]
```

### 2.6 替语言自身配置

`[[d]]` 小节 `type = "tpl"`

栗子:

```toml
# tpld-dart-zh.tpld.toml

[[d]]
type = "tpl"
[d.d]
tpl = "替"
filename = "文件名"
file-ext = ".替"
encode-id = "punycode_{{punycode}}_darthateunicode"
```

允许的配置项:

| 键 | 说明 | 备注 | 数据类型 |
| :- | :--- | :-- | :------ |
| tpl | 定义 `tpl` 的翻译 | | 字符串 |
| filename | 定义 `filename` 的翻译 | | 字符串 |
| file-ext | 定义替语言源代码文件名的后缀, 默认为 `.tpl` | | 字符串 |
| encode-id | (PEL) 按照指定方式对标识符进行可逆编码 | | 字符串 |

+ `tpl`, `filename` 用于文件重命名功能, 比如默认情况:

  ```ts
  // tpl filename = test.ts
  ```

  指定此文件编译之后的原语言代码文件名为 `test.ts`
  但是使用上述定义之后, 可以写:

  ```ts
  // 替 文件名 = test.ts
  ```

  这样对于特定的目标语言会有更好的体验.

+ `file-ext` 比如 TypeScript (原语言) 的源代码文件名后缀为 `.ts`
  那么默认情况下对应的替语言代码文件名后缀为 `.ts.tpl`

  使用上述定义对特定目标语言优化之后, 可以用 `.ts.替`

### 2.7 关键字替换

`[[d]]` 小节 `type = "keyword"`

栗子:

```toml
[[d]]
type = "keyword"
[d.d]
else = "另"
function = "术"
if = "若"
```

指定原语言关键字的翻译规则.
保留字, 条件关键字等都归为此类.

### 2.8 标识符替换

原语言中函数名称, 内置数据类型, 模块名称等的替换.

栗子:

```toml
type = "lib:node"
scope = "module:process"
scope_to = "进程"

# 全局
[[d]]
scope = ""
[d.d]
console = "控制台"

[[d]]
scope = ["console", "Console"]
[d.d]
"log()" = "写()"

[[d]]
scope = "Process"
to = "进程"
[d.d]
"exit()" = "退出()"
```

允许的配置项:

| 键 | 说明 | 备注 | 数据类型 |
| :- | :--- | :-- | :------ |
| type | 指定类型 | | 字符串 |
| scope | 指定范围 | | 字符串 或 字符串数组 |
| to | 对范围的翻译 | | 字符串 或 字符串数组 |
| scope_to | 功能相当于 `to` 但是只用于根配置位置 | | 字符串 |
| d.d | (PEL) 映射表 | 必须 | 字符串 至 字符串 |

当 `type` 和 `scope` 位于根配置位置时, 对整个文件有效.
当位于 `[[d]]` 时, 只对这一小节有效.

#### 2.8.1 类型 (PEL)

使用 `type` 指定.
替语言工具指定具体的字符串格式及含义, 此处给出的只是建议.

+ 内置数据类型: `type = "type"`

+ 标准库: `type = "lib"`

+ 运行环境: `type` 以 `lib:` 开头, 比如
  `type = "lib:node"`, `type = "lib:b"`

+ 第三方包: 比如 `type = "lib:npm:semver"`

+ 本地文件: 比如 `type = "lib::test.js"`

#### 2.8.2 范围 (PEL)

使用 `scope` 指定.
替语言工具指定具体的字符串格式及含义, 此处给出的只是建议.

+ 全局范围: `scope = ""`

+ 普通范围: 比如 `scope = "Console"`

+ 特殊范围: 比如 `scope = "module:fs"`, `scope = "namespace:NodeJS"`

+ 同时对多个范围有效: 比如 `scope = ["console", "Console"]`

当指定的范围具有多个嵌套层级时, `to` 只对最后一个层级的标识符进行翻译.
当范围为数组时, `to` 也应为数组, 且长度一致, 表示对各个范围分别翻译.

#### 2.8.3 标识符匹配 (PEL)

使用 `[d.d]` 指定, 在特定的范围 (scope) 内进行匹配.

替语言工具指定具体的字符串格式及匹配方式, 此处给出的只是建议:

+ 纯标识符: 比如 `console = "控制台"`

  一般用于变量, 模块名称等的替换.

+ 以小括号结尾: 比如 `"log()" = "写()"`

  用于函数名称的替换.

### 2.9 自定义扩展 (PEL)

除了上述的键以外, 替语言工具可以使用键名以下划线 `_` 开头的键.
用于替语言工具自定义的功能.

其余的键不允许出现.


## 3 替语言配置文件

替语言配置文件用于配置一个项目中替语言工具的工作方式.
比如使用哪些替语言工具, 哪些 tpld 文件, 工作模式, 源代码目录等.

一般情况下一个替语言配置文件应该包含项目的所有配置.
也就是配置不要分散在多个文件中.

(PEL) 与替语言描述文件类似, 替语言配置文件也允许 *自定义扩展*.

具体替语言工具可以只处理替语言配置文件中关心的部分, 其余部分都可以忽略.
也就是不强制要求一个替语言工具理解或支持替语言配置文件的全部内容.

(建议) 为了更好的用户体验, 合理选择支持替语言配置文件的哪些内容.

### 3.1 文件存储 (必须)

替语言配置文件使用 [TOML 1.0.0](https://toml.io/) 的格式进行存储.

替语言配置文件默认文件名为 `tpl_config.toml`
但是也可以为特定目标语言指定文件名比如 `替语言配置.toml`
以便提供更好的目标语言体验.
当存在多个配置文件时 `tpl_config.toml` 生效, 其余配置文件被直接忽略.

### 3.2 整体格式

栗子:

```toml
# tpl_config.toml
tpl-spec = "0.1.0"
target = "zh_CN"

mode = "side"

tool = [
  "tpl-ast-ts",
  "tpl-ide-ts-lsp",
]

tpld = [
  "tpld-ts-zh",
  "tpld-ts-node-zh",
  "./tpld",
]

rule = [
  { file: ["*.ts.替"], tpld: ["ts"] },
]

src = [
  "src/",
]

[path]
src = "源"
```

### 3.3 根配置

允许的配置项:

| 键 | 说明 | 备注 | 数据类型 |
| :- | :--- | :-- | :------ |
| tpl-spec | 使用的替语言规范版本号 | 必须 | 字符串 |
| target | 主要目标语言 | | 字符串 |
| mode | 工作模式 | | 字符串 |
| tool | 使用的替语言工具列表 | | 字符串数组 |
| tpld | 使用的 tpld 列表 | | 字符串数组 |
| rule | 匹配规则 | | 数组 |
| src | 编译哪些目录/源文件 | | 字符串数组 |
| path | 目录重命名功能 | | 映射表 |

+ mode 默认工作模式为 **并列模式** (side-by-side),
  可以切换为 **影子模式** (shadow)

### 3.4 匹配规则

由 `rule` 定义.

允许的配置项:

| 键 | 说明 | 备注 | 数据类型 |
| :- | :--- | :-- | :------ |
| file | 文件路径匹配 | | 字符串数组 |
| tpld | 应用哪种 tpld | | 字符串数组 |


## 4 替语言支持工具 (建议)

替语言支持工具用于实现替语言的核心功能, 处理具体的替语言描述文件,
并在各个方面尽量提供更好的替语言使用体验.

此处只是对可能的替语言工具做简单介绍, 并不涵盖所有的替语言工具.
可能存在更多此处没有提及的替语言工具.

具体工具的详细功能及特性由具体工具的相关文档说明,
此处的描述只是 **建议**, 并不做强制约束.

### 4.1 代码语法解析 (tpl-ast-LANG)

这是使用某种替语言所必须的工具, 提供将替语言代码编译为原语言代码的能力.

一般情况下, 一种原语言对应一个 tpl-ast-LANG 工具, 比如 tpl-ast-ts 对 TypeScript 提供支持.
主要功能有解析特定原语言相关的 tpld 文件, 进行标识符替换等.

tpl-ast-LANG 工具至少需要实现替语言核心功能之中的 **正向编译**, **反向编译**, **错误检查**.
建议实现 **标识符冲突** 功能.

一般情况下 tpl-ast-LANG 工具在原语言编译器的基础上改造而来.

#### 4.1.1 文件重命名

指定编译之后的原语言代码文件名, 比如 `测试.ts.替` 编译后生成 `test.ts`

对于支持注释的原语言 (比如 TypeScript) 通常在文件开头处的注释中标出, 比如:

```ts
// 替 文件名 = test.ts
```

对于不支持注释的原语言 (比如 JSON) 则在文件开头处增加以 `#` 开头的行, 编译后去掉这一行, 比如:

```
# 替 文件名 = package.json
```

#### 4.1.2 辅助功能

**待翻译提取**, **tpld 文件解读** 等功能, 用于辅助翻译.

### 4.2 开发工具集成 (tpl-ide-LANG-TOOL)

这些工具用于优化替语言的使用体验, 并不是使用替语言所必须的.

#### 4.2.1 Language Server Protocol (tpl-ide-LANG-lsp)

[语言服务协议 (LSP)](https://microsoft.github.io/language-server-protocol/)
最初由 Microsoft VSCode 代码编辑器提出,
然后被多种编程语言和代码编辑器 (以及集成开发环境) 支持.
LSP 可以为一种编程语言提供许多有用的功能,
比如代码语法高亮, 自动补全, 错误检查等,
显著改善此种编程语言的开发体验.

优化一种原语言的开发体验之时, LSP 是首先应该考虑的方式.
LSP 是一种原语言的通用工具, 与特定的编辑器 / IDE 无关.

#### 4.2.2 代码格式化 (tpl-ide-LANG-fmt)

如果某种原语言具有代码自动格式化工具, 应该考虑支持.
比如 TypeScript (JavaScript) 的 [prettier](https://prettier.io/) 工具,
rust 的 [rustfmt](https://github.com/rust-lang/rustfmt) 工具.

一致稳定的代码风格, 有助于提高代码质量, 简化代码管理, 方便多人合作.
自动格式化工具省去了手工格式化/检查代码风格的大量时间,
同时能够强制保证特定的代码风格.

如果不能让一种代码格式化工具直接支持替语言代码, 那么可以尝试这样 "曲线救国":
将替语言代码 **正向编译** 成原语言代码, 使用格式化工具格式化原语言代码,
然后把格式化后的代码 **反向编译** 成替语言代码.

#### 4.2.3 代码查错工具 (tpl-ide-LANG-lint)

比如 JavaScript 的 [eslint](https://eslint.org/) 工具.

代码查错工具对提高代码质量, 减少 BUG 很有帮助.

#### 4.2.4 编辑器插件

比如 [VSCode 插件](https://marketplace.visualstudio.com/VSCode).

一般一种插件 (或者叫扩展) 适用于一种编辑器 / IDE, 所以需要为不同的编辑器 / IDE 分别开发相应的插件.

### 4.3 辅助运行时 (tpl-rt-LANG)

对于一些动态类型编程语言 (比如 JavaScript),
使用静态编译方式无法完成全部标识符的替换.
此时可以考虑在执行应用代码之前,
预先加载一段代码 (比如 tpl-rt-js) 对运行环境进行适配,
从而提供更好的替语言支持.

### 4.4 命令行工具 (tpl-cli)

替语言工具的命令行入口, 用于整合各个替语言工具,
提供简单一致的使用体验.

比如对于任意替语言项目, 执行 `替 编译` 命令即可完成正向编译.

### 4.5 辅助翻译

除了纯手工编写 tpld 文件之外, 还可以借助辅助翻译工具更快, 更好的产出 tpld 文件.

+ **tpl-ast-LANG**

  需要实现针对特定原语言的 **待翻译提取**, tpld 文件解读等功能.

+ **tpl-th** 替语言辅助翻译工具.

  实现辅助翻译的主要功能, 与特定原语言无关.
  具有待翻译提取, 翻译词典提取, 参考翻译, 外部翻译, 结果检查, 版本对比等功能.

+ **编辑器插件**

  在使用特定编辑器编写 tpld 文件时优化体验, 比如给出翻译建议等.


## 5 补充说明

### 5.1 替语言自举

> 俗话说, 不能自举的语言不是好语言 (雾

替语言本身的设计是中英文混合的, 虽然替语言致力于提供纯中文编程体验.
比如 tpld 文件的格式是英文的, 这与大部分现有编程语言都是基于英文的这一情况相适应.
比如 tpld 文件的编写者, 必然同时能看懂英文和中文, 才能完成翻译工作.

但是, 替语言之中英文的部分不是必须的.
替语言能够翻译别的语言, 也能够翻译自己.
这称为替语言自举. (比如 tpld-toml-tpld-zh)

替语言自举对于原语言和目标语言, 都既不是英文, 也不是中文的情况, 很有用.
这样 tpld 文件的编写者就不需要学习 3 种语言 (不需要学习英文).

### 5.2 翻译版本

替语言规范 (本文档) 以中文版 (zh_CN) 为准,
别的翻译版本 (比如本文档翻译为英文) 只是为了方便读者阅读.


## 附录1 术语表

| 术语 | 解释 | 备注 |
| :-- | :--- | :--- |
| 原语言 | 原有的编程语言, 比如 TypeScript, Java | |
| 目标语言 | 人类语言, 比如中文 (zh_CN), 英文 (en) | |
| 替语言 | 原语言经过替语言的方式翻译之后的编程语言, 比如替语言 TypeScript 中文版 (tpld-ts-zh) | |
| 替语言规范 | | 本文档 |
| 替语言描述文件 (tpld) | 定义具体的翻译规则 | |
| 替语言配置文件 | 配置一个项目中替语言工具的工作方式 | |
| 替语言支持工具 | 替语言功能的具体实现 | |
| 预留扩展位置 (PEL) | 具体的替语言支持工具在实现时需要自行定义的内容 | |
| 正向编译 | 替语言代码编译为原语言 | |
| 反向编译 | 原语言代码编译为替语言 | |
| 迁移编译 | 基于同一种原语言的不同替语言之间相互编译 | |


(2021-09-17)
